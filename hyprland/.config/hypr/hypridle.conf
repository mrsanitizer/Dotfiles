general {
    lock_cmd = pidof hyprlock || hyprlock
    before_sleep_cmd = loginctl lock-session
    after_sleep_cmd = hyprctl dispatch dpms on
}

# ============ ON BATTERY (Aggressive) ============

# Dim screen after 2 min on battery
listener {
    timeout = 120
    on-timeout = systemd-ac-power || brightnessctl -s set 10
    on-resume = brightnessctl -r
}

# Lock screen after 3 min on battery
listener {
    timeout = 180
    on-timeout = systemd-ac-power || loginctl lock-session
}

# Screen off after 4 min on battery
listener {
    timeout = 240
    on-timeout = systemd-ac-power || hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

# Suspend after 15 min on battery (saves battery)
listener {
    timeout = 900
    on-timeout = systemd-ac-power || systemctl suspend
}

# ============ ON AC POWER (Relaxed) ============

# Dim screen after 5 min on AC
listener {
    timeout = 300
    on-timeout = systemd-ac-power && brightnessctl -s set 10
    on-resume = brightnessctl -r
}

# Lock screen after 10 min on AC
listener {
    timeout = 600
    on-timeout = systemd-ac-power && loginctl lock-session
}

# Screen off after 12 min on AC
listener {
    timeout = 720
    on-timeout = systemd-ac-power && hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

